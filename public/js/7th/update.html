<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <style>
    /* 웹폰트 로드 (선택 사항이지만 추천) */
    @import url('https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.min.css');

    /* 전체 폼을 감싸는 컨테이너 스타일 */
    .addStudent {
      max-width: 450px;
      margin: 50px auto;
      /* 페이지 가운데 정렬 */
      padding: 30px 40px;
      background-color: #ffffff;
      border-radius: 12px;
      box-shadow: 0 6px 20px rgba(0, 0, 0, 0.08);
      font-family: 'Pretendard', sans-serif;
      /* 가독성 좋은 폰트 적용 */
    }

    /* 폼 내부 요소 스타일 */
    .addStudent form {
      display: flex;
      flex-direction: column;
      /* 요소들을 세로로 정렬 */
    }

    /* 라벨 스타일 */
    label {
      font-size: 14px;
      font-weight: 600;
      color: #495057;
      margin-bottom: 8px;
    }

    /* 입력 필드(input) 공통 스타일 */
    input[type="number"],
    input[type="text"] {
      width: 100%;
      padding: 12px 15px;
      margin-bottom: 20px;
      border: 1px solid #dee2e6;
      border-radius: 8px;
      font-size: 16px;
      box-sizing: border-box;
      /* 패딩, 테두리가 너비에 포함되도록 설정 */
      transition: border-color 0.2s ease, box-shadow 0.2s ease;
    }

    /* 입력 필드에 포커스(클릭)됐을 때 스타일 */
    input[type="number"]:focus,
    input[type="text"]:focus {
      outline: none;
      /* 기본 아웃라인 제거 */
      border-color: #4C6EF5;
      /* 파란색 계열의 강조색 */
      box-shadow: 0 0 0 4px rgba(76, 110, 245, 0.15);
      /* 은은한 그림자 효과 */
    }

    /* 학생번호 입력 필드는 수정 불가하도록 스타일링 (선택 사항) */
    #sno {
      background-color: #f1f3f5;
      color: #868e96;
      cursor: not-allowed;
    }

    /* 저장 버튼 스타일 */
    button[type="submit"] {
      padding: 14px 20px;
      border: none;
      border-radius: 8px;
      background: linear-gradient(90deg, #4C6EF5, #364FC7
  </style>
</head>

<body>
  <h3>수정화면</h3>
  <div class="addStudent">

    <form action="">
      <label for="sno">학생번호</label>
      <input readonly type="number" id="sno">
      <label for="sname">이름</label>
      <input type="text" id="sname">
      <label for="score">점수</label>
      <input type="number" id="score">
      <button type="submit">저장</button>

    </form>
  </div>
  <script>
    //저장이벤트
    document.querySelector('form').addEventListener('submit', function (e) {
      e.preventDefault();
      let changeName = document.getElementById("sname").value;
      let changeScore = document.getElementById("score").value;

      //data값을 변경.
      data.forEach(item => {
        if (item.sno == sno) {
          item.sname = changeName;
          item.score = changeScore;
        }
      })
      localStorage.setItem("studentInfo", JSON.stringify(data)); // 저장
      localStorage.removeItem("search");
      location.href = 'index.html';
    });

    //조회
    let data = [];
    let sno = localStorage.getItem("search"); // 검색정보
    if (!sno) {
      alert('잘못된 경로입니다.')
    } else {
      data = JSON.parse(localStorage.getItem("studentInfo")); //전체목록
      let result = data.filter((item) => item.sno == sno)[0]; // 학생정보검색
      console.log(result);
      // 검색결과를 화면에 출력. 
      document.getElementById("sno").value = result.sno;
      if (sno == result.sno) {
        alert(중복)
      }
      document.getElementById("sname").value = result.sname;
      document.getElementById("score").value = result.score;
    }
  </script>

</body>

</html>
// ë„¤, ì½”ë“œë¥¼ ë” **í˜„ëŒ€ì ì´ê³  ê´€ë¦¬í•˜ê¸° ì‰½ê²Œ** ê°œì„ í•´ ë³´ì•˜ìŠµë‹ˆë‹¤. ì£¼ìš” ë³€ê²½ì ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.

//   * **ë°ì´í„°ì™€ í™”ë©´ ë¶„ë¦¬:** `students` ë°°ì—´ ë°ì´í„°ê°€ ë³€ê²½ë  ë•Œë§ˆë‹¤ í™”ë©´ ì „ì²´ë¥¼ ë‹¤ì‹œ ê·¸ë¦¬ëŠ” `render` í•¨ìˆ˜ë¥¼ ë§Œë“¤ì–´ ë°ì´í„°ì™€ í™”ë©´ì„ ë™ê¸°í™”í–ˆìŠµë‹ˆë‹¤.
//   * **ì´ë²¤íŠ¸ ìœ„ì„ (Event Delegation):** 'ì‚­ì œ' ë²„íŠ¼ë§ˆë‹¤ ì´ë²¤íŠ¸ë¥¼ ì¶”ê°€í•˜ëŠ” ëŒ€ì‹ , ë¶€ëª¨ì¸ `tbody`ì— ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆë¥¼ í•œ ë²ˆë§Œ ë“±ë¡í•˜ì—¬ ë©”ëª¨ë¦¬ë¥¼ ì•„ë¼ê³  ì½”ë“œë¥¼ ë‹¨ìˆœí™”í–ˆìŠµë‹ˆë‹¤.
//   * **ES6+ ë¬¸ë²• í™œìš©:** `forEach` ë°˜ë³µë¬¸, í™”ì‚´í‘œ í•¨ìˆ˜(`=>`), í…œí”Œë¦¿ ë¦¬í„°ëŸ´(`` ` ``) ë“±ì„ ì‚¬ìš©í•˜ì—¬ ì½”ë“œë¥¼ ë” ê°„ê²°í•˜ê³  ê°€ë…ì„± ì¢‹ê²Œ ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤.

// -----

// ### ì£¼ìš” ë³€ê²½ ì‚¬í•­ ì„¤ëª… ğŸ“

// 1.  **`render()` í•¨ìˆ˜ ë„ì…**

//       * ê¸°ì¡´ì—ëŠ” ì¶”ê°€(`add`)ì™€ ì´ˆê¸°í™”(`createStdList`) ë¡œì§ì´ í™”ë©´ì„ ê°ê° ë”°ë¡œ ì¡°ì‘í–ˆìŠµë‹ˆë‹¤.
//       * ê°œì„ ëœ ì½”ë“œì—ì„œëŠ” `render()`ë¼ëŠ” ë‹¨ì¼ í•¨ìˆ˜ê°€ `students` ë°°ì—´ì„ ê¸°ë°˜ìœ¼ë¡œ **í…Œì´ë¸” ì „ì²´ë¥¼ ê·¸ë ¤ì£¼ëŠ” ì—­í• **ì„ ì „ë‹´í•©ë‹ˆë‹¤. ë°ì´í„°ê°€ ì¶”ê°€ë˜ê±°ë‚˜ ì‚­ì œë˜ë©´, `students` ë°°ì—´ì„ ë³€ê²½í•˜ê³  `render()`ë¥¼ í˜¸ì¶œí•˜ê¸°ë§Œ í•˜ë©´ ë©ë‹ˆë‹¤. ì´ëŠ” Reactì™€ ê°™ì€ ìµœì‹  í”„ë ˆì„ì›Œí¬ì˜ í•µì‹¬ ë™ì‘ ì›ë¦¬ì™€ ë¹„ìŠ·í•©ë‹ˆë‹¤.

// 2.  **'ì‚­ì œ' ë²„íŠ¼ ì²˜ë¦¬ (ì´ë²¤íŠ¸ ìœ„ì„)**

//       * ê¸°ì¡´ì—ëŠ” `makeTr` í•¨ìˆ˜ ë‚´ì—ì„œ ìƒì„±ë˜ëŠ” ëª¨ë“  ë²„íŠ¼ì— `addEventListener`ë¥¼ ì¶”ê°€í–ˆìŠµë‹ˆë‹¤. í•™ìƒì´ 100ëª…ì´ë¼ë©´ 100ê°œì˜ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆê°€ ìƒì„±ë©ë‹ˆë‹¤.
//       * ê°œì„ ëœ ì½”ë“œì—ì„œëŠ” í…Œì´ë¸”ì˜ ëª¸í†µì¸ `tbody`ì— **ë‹¨ í•˜ë‚˜ì˜ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ**ë¥¼ ì¶”ê°€í•˜ê³ , í´ë¦­ëœ ìš”ì†Œê°€ 'ì‚­ì œ' ë²„íŠ¼ì¸ì§€ë¥¼ í™•ì¸í•˜ì—¬ ì²˜ë¦¬í•©ë‹ˆë‹¤. ì´ ë°©ì‹ì´ í›¨ì”¬ íš¨ìœ¨ì ì´ê³  ì½”ë“œê°€ ê¹”ë”í•´ì§‘ë‹ˆë‹¤.

// -----

// ### ê°œì„ ëœ ì „ì²´ ì½”ë“œ âœ…

// ```javascript
// // 1. ì´ˆê¸° ë°ì´í„°
let students = [{
  stdNo: 100,
  stdName: 'í™ê¸¸ë™',
  stdScore: 80
}, {
  stdNo: 200,
  stdName: 'ê¹€ê¸¸ë™',
  stdScore: 85
}];

// 2. ìì£¼ ì‚¬ìš©í•˜ëŠ” HTML ìš”ì†Œë¥¼ ë³€ìˆ˜ì— í• ë‹¹ (íš¨ìœ¨ì„±)
const tbody = document.querySelector('#list tbody');
const addBtn = document.querySelector('#addBtn');
const stdNoInput = document.querySelector('#std_no');
const stdNameInput = document.querySelector('#std_name');
const stdScoreInput = document.querySelector('#std_score');

// 3. 'ì¶”ê°€' ë²„íŠ¼ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ
addBtn.addEventListener('click', () => {
  // ì…ë ¥ê°’ì´ ë¹„ì–´ìˆëŠ”ì§€ í™•ì¸
  if (!stdNoInput.value || !stdNameInput.value || !stdScoreInput.value) {
    alert('ëª¨ë“  ê°’ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.');
    return;
  }

  // students ë°°ì—´ì— ìƒˆë¡œìš´ í•™ìƒ ë°ì´í„° ì¶”ê°€
  students.push({
    stdNo: parseInt(stdNoInput.value), // ë¬¸ìì—´ì„ ìˆ«ìë¡œ ë³€í™˜
    stdName: stdNameInput.value,
    stdScore: parseInt(stdScoreInput.value) // ë¬¸ìì—´ì„ ìˆ«ìë¡œ ë³€í™˜
  });

  // ì…ë ¥ í•„ë“œ ì´ˆê¸°í™”
  stdNoInput.value = '';
  stdNameInput.value = '';
  stdScoreInput.value = '';

  render(); // ë°ì´í„°ê°€ ë³€ê²½ë˜ì—ˆìœ¼ë‹ˆ í™”ë©´ì„ ë‹¤ì‹œ ê·¸ë¦¼
});


// 4. 'ì‚­ì œ' ë²„íŠ¼ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ (ì´ë²¤íŠ¸ ìœ„ì„)
tbody.addEventListener('click', (e) => {
  // í´ë¦­ëœ ìš”ì†Œê°€ 'ì‚­ì œ' ë²„íŠ¼ì´ ì•„ë‹ˆë©´ í•¨ìˆ˜ ì¢…ë£Œ
  if (!e.target.matches('button.btn-danger')) {
    return;
  }

  // í´ë¦­ëœ ë²„íŠ¼ì—ì„œ ê°€ì¥ ê°€ê¹Œìš´ <tr> ìš”ì†Œë¥¼ ì°¾ìŒ
  const tr = e.target.closest('tr');
  const stdNoToRemove = parseInt(tr.dataset.stdNo); // trì— ì €ì¥ëœ í•™ìƒ ë²ˆí˜¸ ê°€ì ¸ì˜¤ê¸°

  // filterë¥¼ ì‚¬ìš©í•´ í•´ë‹¹ í•™ìƒ ë²ˆí˜¸ë¥¼ ì œì™¸í•œ ìƒˆë¡œìš´ ë°°ì—´ì„ ë§Œë“¦
  students = students.filter(student => student.stdNo !== stdNoToRemove);

  render(); // ë°ì´í„°ê°€ ë³€ê²½ë˜ì—ˆìœ¼ë‹ˆ í™”ë©´ì„ ë‹¤ì‹œ ê·¸ë¦¼
});

/**
 * 5. 'students' ë°°ì—´ì„ ê¸°ë°˜ìœ¼ë¡œ í™”ë©´(í…Œì´ë¸”)ì„ ê·¸ë¦¬ëŠ” í•¨ìˆ˜
 */
function render() {
  // tbodyì˜ ê¸°ì¡´ ë‚´ìš©ì„ ëª¨ë‘ ì§€ì›€
  tbody.innerHTML = '';

  // students ë°°ì—´ì„ ìˆœíšŒí•˜ë©° ê° í•™ìƒì— ëŒ€í•œ <tr>ì„ ë§Œë“¤ì–´ ì¶”ê°€
  students.forEach(student => {
    const tr = document.createElement('tr');
    // data-* ì†ì„±ì„ ì‚¬ìš©í•´ ê° í–‰ì— ê³ ìœ í•œ í•™ìƒ ë²ˆí˜¸ë¥¼ ì €ì¥ (ì‚­ì œ ì‹œ í™œìš©)
    tr.dataset.stdNo = student.stdNo;

    // í…œí”Œë¦¿ ë¦¬í„°ëŸ´ì„ ì‚¬ìš©í•´ HTML êµ¬ì¡°ë¥¼ ë” ì‰½ê²Œ ë§Œë“¦
    tr.innerHTML = `
            <td>${student.stdNo}</td>
            <td>${student.stdName}</td>
            <td>${student.stdScore}</td>
            <td>
                <button class="btn btn-danger">ì‚­ì œ</button>
            </td>
        `;
    tbody.appendChild(tr);
  });
}

// 6. ì´ˆê¸° í™”ë©´ ë¡œë”©
render();